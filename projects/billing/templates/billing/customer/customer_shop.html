{% extends 'billing/dashboard.html' %}
{% block content %}
<div style="max-width: 900px; margin: 40px auto; background: #fff; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.08); padding: 2rem;">
    <h2>Boutique</h2>
    <form method="post">
        {% csrf_token %}
        <table style="width: 100%; border-collapse: collapse; margin-top: 2rem;">
            <thead>
                <tr style="background: #f1f3f6;">
                    <th style="padding: 0.75rem; text-align: left;">Nom</th>
                    <th style="padding: 0.75rem; text-align: left;">Prix</th>
                    <th style="padding: 0.75rem; text-align: left;">Stock</th>
                    <th style="padding: 0.75rem; text-align: left;">Quantité</th>
                </tr>
            </thead>
            <tbody>
                {% for product in products %}
                <tr style="border-bottom: 1px solid #f1f3f6;">
                    <td style="padding: 0.75rem;">{{ product.name }}</td>
                    <td style="padding: 0.75rem;">{{ product.price }} €</td>
                    <td style="padding: 0.75rem;">{{ product.qtty }}</td>
                    <td style="padding: 0.75rem;">
                        <input type="number" name="qtty_{{ product.pk }}" min="0" max="{{ product.qtty }}" value="0" style="width: 60px; padding: 0.3rem; border-radius: 5px; border: 1px solid #ccc; text-align: center;">
                    </td>
                </tr>
                {% empty %}
                <tr><td colspan="4" style="padding: 1.5rem; text-align: center; color: #888;">Aucun produit disponible.</td></tr>
                {% endfor %}
            </tbody>
        </table>
        <div style="text-align: right; margin-top: 2rem;">
            <button type="submit" style="background: #667eea; color: #fff; border: none; border-radius: 5px; padding: 0.7rem 2rem; font-weight: bold; font-size: 1.1rem;">Valider commande</button>
        </div>
    </form>
</div>
{% endblock %}