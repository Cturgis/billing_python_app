{% extends 'billing/dashboard.html' %}
{% block content %}
<div class="customer-form-outer-container">
    <div class="customer-form-card">
        <h2 class="customer-form-title">{% if customer %}Modifier le client{% else %}Nouveau
            client{% endif %}</h2>
        <form method="post">
            {% csrf_token %}
            {{ form.non_field_errors }}
            <div class="customer-form-group">
                <label
                        for="id_username"
                        class="form-label customer-form-label">
                    Nom d'utilisateur
                </label>
                <input
                        type="text" name="username" id="id_username" class="form-control customer-form-input"
                        value="{{ form.username.value|default:'' }}">
                <span class="customer-form-error">{{ form.username.errors }}</span>
            </div>

            <div class="customer-form-group">
                <label
                        for="id_email"
                        class="form-label customer-form-label">
                    Email
                </label>
                <input type="email" name="email" id="id_email" class="form-control customer-form-input"
                       value="{{ form.email.value|default:'' }}">
                <span class="customer-form-error">{{ form.email.errors }}</span>
            </div>

            <div class="customer-form-group">
                <label
                        for="id_password" class="form-label customer-form-label">
                    Mot de passe
                </label>
                <input type="password" name="password" id="id_password" class="form-control customer-form-input">
                <span class="customer-form-error">{{ form.password.errors }}</span>
            </div>

            <div class="customer-form-group">
                <label for="id_address" class="form-label customer-form-label">
                    Adresse
                </label>
                <textarea name="address" id="id_address" class="form-control customer-form-textarea" rows="3">{{ form.address.value|default:'' }}</textarea>
                {{ form.address.errors }}
            </div>

            <div class="customer-form-checkbox-group">
                {% if not customer %}
                <input type="checkbox" name="is_admin" id="id_is_admin" class="customer-form-checkbox" {% if form.is_admin.value %}checked{% endif %}>
                <label for="id_is_admin" class="form-label customer-form-checkbox-label">Utilisateur admin</label>
                {{ form.is_admin.errors }}
                {% endif %}
            </div>

            <button type="submit" class="btn btn-primary customer-form-submit-btn">
                Enregistrer
            </button>
            <a href="{% url 'billing:customer_list' %}" class="btn btn-link customer-form-cancel-link">Annuler</a>
        </form>
    </div>
</div>
{% endblock %}
