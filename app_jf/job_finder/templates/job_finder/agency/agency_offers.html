{% extends "base.html" %}
{% load static %}

{% block title %}Mes offres d'emploi - JobFinder{% endblock %}

{% block content %}
{% include "job_finder/header.html" %}
<link rel="stylesheet" href="{% static 'search_bar.css' %}">
<link rel="stylesheet" href="{% static 'agency_offers.css' %}">
<link rel="stylesheet" href="{% static 'offer_card.css' %}">
<div class="agency-offers-container">
    <div class="agency-offers-header">
        <h1>Mes offres d'emploi</h1>
        <a href="{% url 'job_finder:create_offer' %}" class="create-offer-btn">Créer une nouvelle offre</a>
    </div>

    {% include "job_finder/components/search_bar.html" %}

    {% if messages %}
    <div class="messages">
        {% for message in messages %}
        <div class="message {{ message.tags }}">{{ message }}</div>
        {% endfor %}
    </div>
    {% endif %}

    {% if job_offers %}
    <div class="job-offers-list list-grid">
        {% for offer in job_offers %}
            {% include "job_finder/components/offer_card.html" with offer=offer user_type="agency" show_actions=True %}
        {% endfor %}
    </div>
    {% elif search_query or active_filters %}
    <div class="no-results-message">
        <p>Aucune offre d'emploi ne correspond à vos critères de recherche.</p>
        <p>Essayez de modifier vos filtres ou d'effectuer une nouvelle recherche.</p>
    </div>
    {% else %}
    <div class="no-offers-message">
        <p>Vous n'avez pas encore publié d'offres d'emploi.</p>
        <p>Commencez par <a href="{% url 'job_finder:create_offer' %}">créer votre première offre</a>.</p>
    </div>
    {% endif %}
</div>
{% endblock %}
